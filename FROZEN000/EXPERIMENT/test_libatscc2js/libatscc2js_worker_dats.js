/*
**
** The JavaScript code is generated by atscc2js
** The starting compilation time is: 2015-11-3:  9h:49m
**
*/

/* ATSextcode_beg() */
//
var
theWorker_cont;
//
self.onmessage =
function(event)
{
  var k0 = theWorker_cont;
  return ats2jspre_cloref2_app(k0, 0, event.data);
}
//
function
ats2js_worker_chanpos_recv
  (chp, k0)
{
  theWorker_cont = k0; return;
}
function
ats2js_worker_chanpos_send
  (chp, x0, k0)
{
  postMessage(x0); return ats2jspre_cloref1_app(k0, 0);
}
//
/* ATSextcode_end() */

/* ATSextcode_beg() */
//
function
ats2js_worker_chanpos_close(chp) { return self.close(); }
//
/* ATSextcode_end() */

/* ATSextcode_beg() */
//
function
emcc_string(inp)
{
//
var
out = Module._malloc(inp.length+1);
//
Module.writeStringToMemory(inp, out); return out;
//
} // end of [emcc_string]
//
function
un_emcc_string(ptr) { return Pointer_stringify(ptr); }
//
/* ATSextcode_end() */

function
__patsfun_9__closurerize()
{
  return [function(cenv, arg0) { return __patsfun_9(arg0); }];
}


function
__patsfun_1__1__1__closurerize(env0)
{
  return [function(cenv, arg0, arg1) { return __patsfun_1__1__1(cenv[1], arg0, arg1); }, env0];
}


function
__patsfun_2__2__1__closurerize(env0)
{
  return [function(cenv, arg0) { return __patsfun_2__2__1(cenv[1], arg0); }, env0];
}


function
__patsfun_24__closurerize()
{
  return [function(cenv, arg0) { return __patsfun_24(arg0); }];
}


function
emcc_comarg(arg0)
{
//
// knd = 0
  var tmpret5
  var tmp6
  var tmp7
  var tmp8
  var tmp9
  var tmp10
  var tmp11
  var tmp12
  var tmp13
  var tmplab, tmplab_js
//
  // __patsflab_emcc_comarg
  // ATScaseofseq_beg
  tmplab_js = 1;
  while(true) {
    tmplab = tmplab_js; tmplab_js = 0;
    switch(tmplab) {
      // ATSbranchseq_beg
      case 1: // __atstmplab0
      if(!ATSCKpat_con1(arg0, 0)) { tmplab_js = 3; break; }
      case 2: // __atstmplab1
      tmp6 = arg0[1];
      tmp10 = emcc_string(tmp6);
      tmpret5 = _libatscc2js_comarg_strlit(tmp10);
      break;
      // ATSbranchseq_end
      // ATSbranchseq_beg
      case 3: // __atstmplab2
      if(!ATSCKpat_con1(arg0, 1)) { tmplab_js = 5; break; }
      case 4: // __atstmplab3
      tmp7 = arg0[1];
      tmp11 = emcc_string(tmp7);
      tmpret5 = _libatscc2js_comarg_strinp(tmp11);
      break;
      // ATSbranchseq_end
      // ATSbranchseq_beg
      case 5: // __atstmplab4
      if(!ATSCKpat_con1(arg0, 2)) { tmplab_js = 7; break; }
      case 6: // __atstmplab5
      tmp8 = arg0[1];
      tmp12 = emcc_string(tmp8);
      tmpret5 = _libatscc2js_comarg_prefil(tmp12);
      break;
      // ATSbranchseq_end
      // ATSbranchseq_beg
      case 7: // __atstmplab6
      case 8: // __atstmplab7
      tmp9 = arg0[1];
      tmp13 = emcc_string(tmp9);
      tmpret5 = _libatscc2js_comarg_postfil(tmp13);
      break;
      // ATSbranchseq_end
    } // end-of-switch
    if (tmplab_js === 0) break;
  } // endwhile
  // ATScaseofseq_end
  return tmpret5;
} // end-of-function


function
emcc_comarglst(arg0)
{
//
// knd = 0
  var tmpret14
  var tmp15
  var tmp16
  var tmp17
  var tmp18
  var tmplab, tmplab_js
//
  // __patsflab_emcc_comarglst
  // ATScaseofseq_beg
  tmplab_js = 1;
  while(true) {
    tmplab = tmplab_js; tmplab_js = 0;
    switch(tmplab) {
      // ATSbranchseq_beg
      case 1: // __atstmplab8
      if(ATSCKptriscons(arg0)) { tmplab_js = 4; break; }
      case 2: // __atstmplab9
      tmpret14 = _libatscc2js_comarglst_nil();
      break;
      // ATSbranchseq_end
      // ATSbranchseq_beg
      case 3: // __atstmplab10
      case 4: // __atstmplab11
      tmp15 = arg0[0];
      tmp16 = arg0[1];
      tmp17 = emcc_comarg(tmp15);
      tmp18 = emcc_comarglst(tmp16);
      tmpret14 = _libatscc2js_comarglst_cons(tmp17, tmp18);
      break;
      // ATSbranchseq_end
    } // end-of-switch
    if (tmplab_js === 0) break;
  } // endwhile
  // ATScaseofseq_end
  return tmpret14;
} // end-of-function


function
_057_home_057_hwxi_057_Research_057_ATS_055_Postiats_055_contrib_057_projects_057_MEDIUM_057_CATS_055_atsccomp_057_CATS_055_atscc2js_057_CBOOT_057_JS_057_TEST_057_libatscc2js_worker_056_dats__my_atscc2jsres_main_arglst(arg0)
{
//
// knd = 0
  var tmpret31
  var tmp33
  var tmp34
  var tmp35
  var tmp36
  var tmplab, tmplab_js
//
  // __patsflab_my_atscc2jsres_main_arglst
  _libatscc2js_dynload();
  // ATScaseofseq_beg
  tmplab_js = 1;
  while(true) {
    tmplab = tmplab_js; tmplab_js = 0;
    switch(tmplab) {
      // ATSbranchseq_beg
      case 1: // __atstmplab20
      if(ATSCKptriscons(arg0)) { tmplab_js = 4; break; }
      case 2: // __atstmplab21
      tmpret31 = [0, "", ""];
      break;
      // ATSbranchseq_end
      // ATSbranchseq_beg
      case 3: // __atstmplab22
      case 4: // __atstmplab23
      tmp33 = emcc_comarglst(arg0);
      tmp34 = _libatscc2js_atscc2js_main0_arglst(tmp33);
      tmp35 = libatscc2js_stdout_store_join();
      tmp36 = libatscc2js_stderr_store_join();
      tmpret31 = [tmp34, tmp35, tmp36];
      break;
      // ATSbranchseq_end
    } // end-of-switch
    if (tmplab_js === 0) break;
  } // endwhile
  // ATScaseofseq_end
  return tmpret31;
} // end-of-function


function
__patsfun_9(arg0)
{
//
// knd = 0
  var tmplab, tmplab_js
//
  // __patsflab___patsfun_9
  ats2js_worker_rpc_server__0__1(arg0, __patsfun_24__closurerize());
  return/*_void*/;
} // end-of-function


function
ats2js_worker_rpc_server__0__1(arg0, arg1)
{
//
// knd = 0
  var tmplab, tmplab_js
//
  // __patsflab_rpc_server
  ats2js_worker_chanpos_recv(arg0, __patsfun_1__1__1__closurerize(arg1));
  return/*_void*/;
} // end-of-function


function
__patsfun_1__1__1(env0, arg0, arg1)
{
//
// knd = 0
  var tmp2__1
  var tmp3__1
  var tmplab, tmplab_js
//
  // __patsflab___patsfun_1
  tmp3__1 = _057_home_057_hwxi_057_Research_057_ATS_055_Postiats_055_contrib_057_contrib_057_libatscc_057_libatscc2js_057_SATS_057_Worker_057_channel_056_sats__chmsg_parse__12__1(arg1);
  tmp2__1 = env0[0](env0, tmp3__1);
  ats2js_worker_chanpos_send(arg0, tmp2__1, __patsfun_2__2__1__closurerize(env0));
  return/*_void*/;
} // end-of-function


function
_057_home_057_hwxi_057_Research_057_ATS_055_Postiats_055_contrib_057_contrib_057_libatscc_057_libatscc2js_057_SATS_057_Worker_057_channel_056_sats__chmsg_parse__12__1(arg0)
{
//
// knd = 0
  var tmpret44__1
  var tmplab, tmplab_js
//
  // __patsflab_chmsg_parse
  tmpret44__1 = aux_13__13__1(arg0);
  return tmpret44__1;
} // end-of-function


function
aux_13__13__1(arg0)
{
//
// knd = 0
  var tmpret45__1
  var tmp46__1
  var tmp47__1
  var tmp48__1
  var tmp49__1
  var tmplab, tmplab_js
//
  // __patsflab_aux_13
  // ATScaseofseq_beg
  tmplab_js = 1;
  while(true) {
    tmplab = tmplab_js; tmplab_js = 0;
    switch(tmplab) {
      // ATSbranchseq_beg
      case 1: // __atstmplab24
      if(ATSCKptriscons(arg0)) { tmplab_js = 4; break; }
      case 2: // __atstmplab25
      tmpret45__1 = null;
      break;
      // ATSbranchseq_end
      // ATSbranchseq_beg
      case 3: // __atstmplab26
      case 4: // __atstmplab27
      tmp46__1 = arg0[0];
      tmp47__1 = arg0[1];
      tmp48__1 = _057_home_057_hwxi_057_Research_057_ATS_055_Postiats_055_contrib_057_contrib_057_libatscc_057_libatscc2js_057_SATS_057_Worker_057_channel_056_sats__chmsg_parse__6__1(tmp46__1);
      tmp49__1 = aux_13__13__1(tmp47__1);
      tmpret45__1 = [tmp48__1, tmp49__1];
      break;
      // ATSbranchseq_end
    } // end-of-switch
    if (tmplab_js === 0) break;
  } // endwhile
  // ATScaseofseq_end
  return tmpret45__1;
} // end-of-function


function
_057_home_057_hwxi_057_Research_057_ATS_055_Postiats_055_contrib_057_contrib_057_libatscc_057_libatscc2js_057_SATS_057_Worker_057_channel_056_sats__chmsg_parse__6__1(arg0)
{
//
// knd = 0
  var tmpret19__1
  var tmp21__1
  var tmp22__1
  var tmp23__1
  var tmp24__1
  var tmp25__1
  var tmp26__1
  var tmp27__1
  var tmp28__1
  var tmp29__1
  var tmp30__1
  var tmplab, tmplab_js
//
  // __patsflab_chmsg_parse
  tmp22__1 = ats2jspre_JSarray_get_at(arg0, 0);
  tmp21__1 = parseInt(tmp22__1);
  ats2jspre_JSarray_set_at(arg0, 0, tmp21__1);
  // ATScaseofseq_beg
  tmplab_js = 1;
  while(true) {
    tmplab = tmplab_js; tmplab_js = 0;
    switch(tmplab) {
      // ATSbranchseq_beg
      case 1: // __atstmplab12
      if(!ATSCKpat_con1(arg0, 0)) { tmplab_js = 3; break; }
      case 2: // __atstmplab13
      tmp23__1 = arg0[1];
      tmp27__1 = _057_home_057_hwxi_057_Research_057_ATS_055_Postiats_055_contrib_057_contrib_057_libatscc_057_libatscc2js_057_SATS_057_Worker_057_channel_056_sats__chmsg_parse__17__1(tmp23__1);
      tmpret19__1 = [0, tmp27__1];
      break;
      // ATSbranchseq_end
      // ATSbranchseq_beg
      case 3: // __atstmplab14
      if(!ATSCKpat_con1(arg0, 1)) { tmplab_js = 5; break; }
      case 4: // __atstmplab15
      tmp24__1 = arg0[1];
      tmp28__1 = _057_home_057_hwxi_057_Research_057_ATS_055_Postiats_055_contrib_057_contrib_057_libatscc_057_libatscc2js_057_SATS_057_Worker_057_channel_056_sats__chmsg_parse__17__2(tmp24__1);
      tmpret19__1 = [1, tmp28__1];
      break;
      // ATSbranchseq_end
      // ATSbranchseq_beg
      case 5: // __atstmplab16
      if(!ATSCKpat_con1(arg0, 2)) { tmplab_js = 7; break; }
      case 6: // __atstmplab17
      tmp25__1 = arg0[1];
      tmp29__1 = _057_home_057_hwxi_057_Research_057_ATS_055_Postiats_055_contrib_057_contrib_057_libatscc_057_libatscc2js_057_SATS_057_Worker_057_channel_056_sats__chmsg_parse__17__3(tmp25__1);
      tmpret19__1 = [2, tmp29__1];
      break;
      // ATSbranchseq_end
      // ATSbranchseq_beg
      case 7: // __atstmplab18
      case 8: // __atstmplab19
      tmp26__1 = arg0[1];
      tmp30__1 = _057_home_057_hwxi_057_Research_057_ATS_055_Postiats_055_contrib_057_contrib_057_libatscc_057_libatscc2js_057_SATS_057_Worker_057_channel_056_sats__chmsg_parse__17__4(tmp26__1);
      tmpret19__1 = [3, tmp30__1];
      break;
      // ATSbranchseq_end
    } // end-of-switch
    if (tmplab_js === 0) break;
  } // endwhile
  // ATScaseofseq_end
  return tmpret19__1;
} // end-of-function


function
_057_home_057_hwxi_057_Research_057_ATS_055_Postiats_055_contrib_057_contrib_057_libatscc_057_libatscc2js_057_SATS_057_Worker_057_channel_056_sats__chmsg_parse__17__1(arg0)
{
//
// knd = 0
  var tmpret68__1
  var tmplab, tmplab_js
//
  // __patsflab_chmsg_parse
  tmpret68__1 = arg0;
  return tmpret68__1;
} // end-of-function


function
_057_home_057_hwxi_057_Research_057_ATS_055_Postiats_055_contrib_057_contrib_057_libatscc_057_libatscc2js_057_SATS_057_Worker_057_channel_056_sats__chmsg_parse__17__2(arg0)
{
//
// knd = 0
  var tmpret68__2
  var tmplab, tmplab_js
//
  // __patsflab_chmsg_parse
  tmpret68__2 = arg0;
  return tmpret68__2;
} // end-of-function


function
_057_home_057_hwxi_057_Research_057_ATS_055_Postiats_055_contrib_057_contrib_057_libatscc_057_libatscc2js_057_SATS_057_Worker_057_channel_056_sats__chmsg_parse__17__3(arg0)
{
//
// knd = 0
  var tmpret68__3
  var tmplab, tmplab_js
//
  // __patsflab_chmsg_parse
  tmpret68__3 = arg0;
  return tmpret68__3;
} // end-of-function


function
_057_home_057_hwxi_057_Research_057_ATS_055_Postiats_055_contrib_057_contrib_057_libatscc_057_libatscc2js_057_SATS_057_Worker_057_channel_056_sats__chmsg_parse__17__4(arg0)
{
//
// knd = 0
  var tmpret68__4
  var tmplab, tmplab_js
//
  // __patsflab_chmsg_parse
  tmpret68__4 = arg0;
  return tmpret68__4;
} // end-of-function


function
__patsfun_2__2__1(env0, arg0)
{
//
// knd = 0
  var tmplab, tmplab_js
//
  // __patsflab___patsfun_2
  ats2js_worker_rpc_server_cont__8__1(arg0, env0);
  return/*_void*/;
} // end-of-function


function
ats2js_worker_rpc_server_cont__8__1(arg0, arg1)
{
//
// knd = 0
  var tmplab, tmplab_js
//
  // __patsflab_rpc_server_cont
  ats2js_worker_chanpos_close(arg0);
  return/*_void*/;
} // end-of-function


function
__patsfun_24(arg0)
{
//
// knd = 0
  var tmpret75
  var tmplab, tmplab_js
//
  // __patsflab___patsfun_24
  tmpret75 = _057_home_057_hwxi_057_Research_057_ATS_055_Postiats_055_contrib_057_projects_057_MEDIUM_057_CATS_055_atsccomp_057_CATS_055_atscc2js_057_CBOOT_057_JS_057_TEST_057_libatscc2js_worker_056_dats__my_atscc2jsres_main_arglst(arg0);
  return tmpret75;
} // end-of-function

// dynloadflag_minit
var _057_home_057_hwxi_057_Research_057_ATS_055_Postiats_055_contrib_057_projects_057_MEDIUM_057_CATS_055_atsccomp_057_CATS_055_atscc2js_057_CBOOT_057_JS_057_TEST_057_libatscc2js_worker_056_dats__dynloadflag = 0;

function
_057_home_057_hwxi_057_Research_057_ATS_055_Postiats_055_contrib_057_projects_057_MEDIUM_057_CATS_055_atsccomp_057_CATS_055_atscc2js_057_CBOOT_057_JS_057_TEST_057_libatscc2js_worker_056_dats__dynload()
{
//
// knd = 0
  var tmplab, tmplab_js
//
  // ATSdynload()
  // ATSdynloadflag_sta(_057_home_057_hwxi_057_Research_057_ATS_055_Postiats_055_contrib_057_projects_057_MEDIUM_057_CATS_055_atsccomp_057_CATS_055_atscc2js_057_CBOOT_057_JS_057_TEST_057_libatscc2js_worker_056_dats__dynloadflag(164))
  if(ATSCKiseqz(_057_home_057_hwxi_057_Research_057_ATS_055_Postiats_055_contrib_057_projects_057_MEDIUM_057_CATS_055_atsccomp_057_CATS_055_atscc2js_057_CBOOT_057_JS_057_TEST_057_libatscc2js_worker_056_dats__dynloadflag)) {
    _057_home_057_hwxi_057_Research_057_ATS_055_Postiats_055_contrib_057_projects_057_MEDIUM_057_CATS_055_atsccomp_057_CATS_055_atscc2js_057_CBOOT_057_JS_057_TEST_057_libatscc2js_worker_056_dats__dynloadflag = 1 ; // flag is set
    ats2js_worker_chanpos_send(0, 0, __patsfun_9__closurerize());
  } // endif
  return/*_void*/;
} // end-of-function


function
the_libatscc2js_worker_start()
{
//
// knd = 0
  var tmplab, tmplab_js
//
  _057_home_057_hwxi_057_Research_057_ATS_055_Postiats_055_contrib_057_projects_057_MEDIUM_057_CATS_055_atsccomp_057_CATS_055_atscc2js_057_CBOOT_057_JS_057_TEST_057_libatscc2js_worker_056_dats__dynload();
  return/*_void*/;
} // end-of-function


/* ATSextcode_beg() */
//
function
the_libatscc2js_main() { return the_libatscc2js_worker_start(); }
//
/* ATSextcode_end() */

/* ****** ****** */

/* end-of-compilation-unit */
