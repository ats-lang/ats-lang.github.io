/*
**
** The JavaScript code is generated by atscc2js
** The starting compilation time is: 2017-9-27: 15h:19m
**
*/

var HanoiTowers_txt__statmp0

var HanoiTowers_txt__statmp39

var HanoiTowers_txt__statmp40

var HanoiTowers_txt__statmp41

var HanoiTowers_txt__statmp42

var HanoiTowers_txt__statmp43

var HanoiTowers_txt__statmp44

var HanoiTowers_txt__statmp45

var HanoiTowers_txt__statmp51

var HanoiTowers_txt__statmp52

var HanoiTowers_txt__statmp53

var HanoiTowers_txt__statmp54

var HanoiTowers_txt__statmp55

var HanoiTowers_txt__statmp56

var HanoiTowers_txt__statmp57

function
HanoiTowers_txt__patsfun_1__closurerize()
{
  return [function(cenv, arg0, arg1) { return HanoiTowers_txt__patsfun_1(arg0, arg1); }];
}


function
HanoiTowers_txt__patsfun_3__closurerize()
{
  return [function(cenv, arg0, arg1) { return HanoiTowers_txt__patsfun_3(arg0, arg1); }];
}


function
HanoiTowers_txt__patsfun_14__closurerize(env0, env1, env2, env3)
{
  return [function(cenv) { return HanoiTowers_txt__patsfun_14(cenv[1], cenv[2], cenv[3], cenv[4]); }, env0, env1, env2, env3];
}


function
HanoiTowers_txt__patsfun_16__closurerize(env0, env1)
{
  return [function(cenv, arg0, arg1, arg2) { return HanoiTowers_txt__patsfun_16(cenv[1], cenv[2], arg0, arg1, arg2); }, env0, env1];
}


function
HanoiTowers_txt__patsfun_17__closurerize(env0, env1)
{
  return [function(cenv, arg0, arg1, arg2) { return HanoiTowers_txt__patsfun_17(cenv[1], cenv[2], arg0, arg1, arg2); }, env0, env1];
}


function
HanoiTowers_txt__patsfun_18__closurerize(env0)
{
  return [function(cenv, arg0, arg1, arg2) { return HanoiTowers_txt__patsfun_18(cenv[1], arg0, arg1, arg2); }, env0];
}


function
HanoiTowers_txt__patsfun_19__closurerize()
{
  return [function(cenv) { return HanoiTowers_txt__patsfun_19(); }];
}


function
HanoiTowers_txt__patsfun_20__closurerize()
{
  return [function(cenv, arg0, arg1, arg2) { return HanoiTowers_txt__patsfun_20(arg0, arg1, arg2); }];
}


function
HanoiTowers_txt__theCanvas_clear_0()
{
//
// knd = 0
  var tmplab, tmplab_js
//
  // __patsflab_HanoiTowers_txt__theCanvas_clear_0
  ats2jspre_matrixref_foreach_cloref(HanoiTowers_txt__statmp0, 24, 80, HanoiTowers_txt__patsfun_1__closurerize());
  return/*_void*/;
} // end-of-function


function
HanoiTowers_txt__patsfun_1(arg0, arg1)
{
//
// knd = 0
  var tmplab, tmplab_js
//
  // __patsflab_HanoiTowers_txt__patsfun_1
  ats2jspre_matrixref_set_at(HanoiTowers_txt__statmp0, arg0, 80, arg1, 0);
  return/*_void*/;
} // end-of-function


function
theCanvas_print()
{
//
// knd = 0
  var tmplab, tmplab_js
//
  // __patsflab_theCanvas_print
  ats2jspre_matrixref_foreach_cloref(HanoiTowers_txt__statmp0, 24, 80, HanoiTowers_txt__patsfun_3__closurerize());
  return/*_void*/;
} // end-of-function


function
HanoiTowers_txt__patsfun_3(arg0, arg1)
{
//
// knd = 0
  var tmp5
  var tmp7
  var tmp8
  var tmp9
  var tmp10
  var tmplab, tmplab_js
//
  // __patsflab_HanoiTowers_txt__patsfun_3
  tmp5 = ats2jspre_matrixref_get_at(HanoiTowers_txt__statmp0, arg0, 80, arg1);
  tmp8 = ats2jspre_eq_int0_int0(tmp5, 0);
  if(tmp8) {
    tmp7 = " ";
  } else {
    tmp7 = "O";
  } // end-of-if
  ats2jspre_print_string(tmp7);
  tmp10 = ats2jspre_sub_int1_int1(80, 1);
  tmp9 = ats2jspre_eq_int1_int1(arg1, tmp10);
  if(tmp9) {
    ats2jspre_print_newline();
  } else {
    // ATSINSmove_void
  } // end-of-if
  return/*_void*/;
} // end-of-function


function
_057_home_057_hwxi_057_Research_057_ats_055_lang_056_github_056_io_057_EXAMPLE_057_EFFECTIVATS_057_HanoiTowers_057_HanoiTowers_txt_056_dats__draw_point(arg0, arg1)
{
//
// knd = 0
  var tmp12
  var tmp13
  var tmp14
  var tmp15
  var tmplab, tmplab_js
//
  // __patsflab_draw_point
  tmp12 = ats2jspre_lt_int1_int1(arg0, 0);
  if(tmp12) {
    // ATSINSmove_void
  } else {
    tmp13 = ats2jspre_lt_int1_int1(arg1, 0);
    if(tmp13) {
      // ATSINSmove_void
    } else {
      tmp14 = ats2jspre_gte_int1_int1(arg0, 80);
      if(tmp14) {
        // ATSINSmove_void
      } else {
        tmp15 = ats2jspre_gte_int1_int1(arg1, 24);
        if(tmp15) {
          // ATSINSmove_void
        } else {
          ats2jspre_matrixref_set_at(HanoiTowers_txt__statmp0, arg1, 80, arg0, 1);
        } // end-of-if
      } // end-of-if
    } // end-of-if
  } // end-of-if
  return/*_void*/;
} // end-of-function


function
_057_home_057_hwxi_057_Research_057_ats_055_lang_056_github_056_io_057_EXAMPLE_057_EFFECTIVATS_057_HanoiTowers_057_HanoiTowers_txt_056_dats__draw_hline(arg0, arg1, arg2)
{
//
// knd = 0
  var tmplab, tmplab_js
//
  // __patsflab_draw_hline
  HanoiTowers_txt__loop_6(arg1, arg2, arg0);
  return/*_void*/;
} // end-of-function


function
HanoiTowers_txt__loop_6(env0, env1, arg0)
{
//
// knd = 1
  var apy0
  var tmp18
  var tmp20
  var funlab_js
  var tmplab, tmplab_js
//
  while(true) {
    funlab_js = 0;
    // __patsflab_HanoiTowers_txt__loop_6
    tmp18 = ats2jspre_lte_int0_int0(arg0, env0);
    if(tmp18) {
      _057_home_057_hwxi_057_Research_057_ats_055_lang_056_github_056_io_057_EXAMPLE_057_EFFECTIVATS_057_HanoiTowers_057_HanoiTowers_txt_056_dats__draw_point(arg0, env1);
      tmp20 = ats2jspre_add_int0_int0(arg0, 1);
      // ATStailcalseq_beg
      apy0 = tmp20;
      arg0 = apy0;
      funlab_js = 1; // __patsflab_HanoiTowers_txt__loop_6
      // ATStailcalseq_end
    } else {
      // ATSINSmove_void
    } // end-of-if
    if (funlab_js > 0) continue; else return/*_void*/;
  } // endwhile-fun
} // end-of-function


function
_057_home_057_hwxi_057_Research_057_ats_055_lang_056_github_056_io_057_EXAMPLE_057_EFFECTIVATS_057_HanoiTowers_057_HanoiTowers_txt_056_dats__draw_disk(arg0, arg1, arg2, arg3)
{
//
// knd = 0
  var tmp23
  var tmp24
  var tmp25
  var tmp26
  var tmp27
  var tmp28
  var tmp29
  var tmplab, tmplab_js
//
  // __patsflab_draw_disk
  tmp23 = ats2jspre_gte_int0_int0(arg2, arg3);
  ats2jspre_assert_errmsg_bool0(tmp23, "/home/hwxi/Research/ats-lang.github.io/EXAMPLE/EFFECTIVATS/HanoiTowers/HanoiTowers_txt.dats: 2163(line=150, offs=10) -- 2185(line=150, offs=32)");
  tmp26 = ats2jspre_add_int0_int0(arg0, arg2);
  tmp25 = ats2jspre_sub_int0_int0(tmp26, arg3);
  tmp24 = ats2jspre_add_int0_int0(tmp25, 1);
  tmp29 = ats2jspre_add_int0_int0(arg0, arg2);
  tmp28 = ats2jspre_add_int0_int0(tmp29, arg3);
  tmp27 = ats2jspre_sub_int0_int0(tmp28, 1);
  _057_home_057_hwxi_057_Research_057_ats_055_lang_056_github_056_io_057_EXAMPLE_057_EFFECTIVATS_057_HanoiTowers_057_HanoiTowers_txt_056_dats__draw_hline(tmp24, tmp27, arg1);
  return/*_void*/;
} // end-of-function


function
_057_home_057_hwxi_057_Research_057_ats_055_lang_056_github_056_io_057_EXAMPLE_057_EFFECTIVATS_057_HanoiTowers_057_HanoiTowers_txt_056_dats__draw_pole(arg0, arg1, arg2, arg3, arg4)
{
//
// knd = 0
  var tmp36
  var tmp37
  var tmp38
  var tmplab, tmplab_js
//
  // __patsflab_draw_pole
  tmp38 = ats2jspre_list_length(arg4);
  tmp37 = ats2jspre_sub_int0_int0(arg2, tmp38);
  tmp36 = ats2jspre_add_int0_int0(arg1, tmp37);
  HanoiTowers_txt__aux_9(arg0, arg3, tmp36, arg4);
  return/*_void*/;
} // end-of-function


function
HanoiTowers_txt__aux_9(env0, env1, arg0, arg1)
{
//
// knd = 1
  var apy0
  var apy1
  var tmp32
  var tmp33
  var tmp35
  var funlab_js
  var tmplab, tmplab_js
//
  while(true) {
    funlab_js = 0;
    // __patsflab_HanoiTowers_txt__aux_9
    // ATScaseofseq_beg
    tmplab_js = 1;
    while(true) {
      tmplab = tmplab_js; tmplab_js = 0;
      switch(tmplab) {
        // ATSbranchseq_beg
        case 1: // __atstmplab0
        if(ATSCKptriscons(arg1)) {
          { tmplab_js = 4; break; }
        } // ifthen
        case 2: // __atstmplab1
        // ATSINSmove_void
        break;
        // ATSbranchseq_end
        // ATSbranchseq_beg
        case 3: // __atstmplab2
        case 4: // __atstmplab3
        tmp32 = arg1[0];
        tmp33 = arg1[1];
        _057_home_057_hwxi_057_Research_057_ats_055_lang_056_github_056_io_057_EXAMPLE_057_EFFECTIVATS_057_HanoiTowers_057_HanoiTowers_txt_056_dats__draw_disk(env0, arg0, env1, tmp32);
        tmp35 = ats2jspre_add_int0_int0(arg0, 1);
        // ATStailcalseq_beg
        apy0 = tmp35;
        apy1 = tmp33;
        arg0 = apy0;
        arg1 = apy1;
        funlab_js = 1; // __patsflab_HanoiTowers_txt__aux_9
        // ATStailcalseq_end
        break;
        // ATSbranchseq_end
      } // end-of-switch
      if (tmplab_js === 0) break;
    } // endwhile
    // ATScaseofseq_end
    if (funlab_js > 0) continue; else return/*_void*/;
  } // endwhile-fun
} // end-of-function


function
_057_home_057_hwxi_057_Research_057_ats_055_lang_056_github_056_io_057_EXAMPLE_057_EFFECTIVATS_057_HanoiTowers_057_HanoiTowers_txt_056_dats__draw_poles(arg0, arg1, arg2)
{
//
// knd = 0
  var tmp48
  var tmp50
  var tmplab, tmplab_js
//
  // __patsflab_draw_poles
  _057_home_057_hwxi_057_Research_057_ats_055_lang_056_github_056_io_057_EXAMPLE_057_EFFECTIVATS_057_HanoiTowers_057_HanoiTowers_txt_056_dats__draw_pole(HanoiTowers_txt__statmp43, HanoiTowers_txt__statmp41, 8, 8, arg0);
  tmp48 = ats2jspre_add_int1_int1(HanoiTowers_txt__statmp43, HanoiTowers_txt__statmp39);
  _057_home_057_hwxi_057_Research_057_ats_055_lang_056_github_056_io_057_EXAMPLE_057_EFFECTIVATS_057_HanoiTowers_057_HanoiTowers_txt_056_dats__draw_pole(tmp48, HanoiTowers_txt__statmp41, 8, 8, arg1);
  tmp50 = ats2jspre_add_int1_int1(tmp48, HanoiTowers_txt__statmp39);
  _057_home_057_hwxi_057_Research_057_ats_055_lang_056_github_056_io_057_EXAMPLE_057_EFFECTIVATS_057_HanoiTowers_057_HanoiTowers_txt_056_dats__draw_pole(tmp50, HanoiTowers_txt__statmp41, 8, 8, arg2);
  return/*_void*/;
} // end-of-function


function
HanoiTowers_txt__theCanvas_draw_11()
{
//
// knd = 0
  var tmp60
  var tmp61
  var tmp62
  var tmplab, tmplab_js
//
  // __patsflab_HanoiTowers_txt__theCanvas_draw_11
  HanoiTowers_txt__theCanvas_clear_0();
  tmp60 = ats2jspre_ref_get_elt(HanoiTowers_txt__statmp53);
  tmp61 = ats2jspre_ref_get_elt(HanoiTowers_txt__statmp54);
  tmp62 = ats2jspre_ref_get_elt(HanoiTowers_txt__statmp56);
  _057_home_057_hwxi_057_Research_057_ats_055_lang_056_github_056_io_057_EXAMPLE_057_EFFECTIVATS_057_HanoiTowers_057_HanoiTowers_txt_056_dats__draw_poles(tmp60, tmp61, tmp62);
  return/*_void*/;
} // end-of-function


function
play_hanoitowers_demo()
{
//
// knd = 0
  var tmp85
  var tmplab, tmplab_js
//
  // __patsflab_play_hanoitowers_demo
  HanoiTowers_txt__theCanvas_draw_11();
  theCanvas_display();
  tmp85 = ats2jspre_cloref2fun0(HanoiTowers_txt__patsfun_19__closurerize());
  setTimeout(tmp85, 1500);
  return/*_void*/;
} // end-of-function


function
HanoiTowers_txt__move_1_13(arg0, arg1, arg2, arg3)
{
//
// knd = 0
  var tmp65
  var tmp66
  var tmp67
  var tmp70
  var tmp71
  var tmp74
  var tmplab, tmplab_js
//
  // __patsflab_HanoiTowers_txt__move_1_13
  tmp65 = ats2jspre_ref_get_elt(arg0);
  if(ATSCKptrisnull(tmp65)) {
    ATSINScaseof_fail("/home/hwxi/Research/ats-lang.github.io/EXAMPLE/EFFECTIVATS/HanoiTowers/HanoiTowers_txt.dats: 4531(line=323, offs=7) -- 4558(line=323, offs=34)");
  } // ifthen
  tmp66 = tmp65[0];
  tmp67 = tmp65[1];
  ats2jspre_ref_set_elt(arg0, tmp67);
  tmp71 = ats2jspre_ref_get_elt(arg1);
  tmp70 = [tmp66, tmp71];
  ats2jspre_ref_set_elt(arg1, tmp70);
  HanoiTowers_txt__theCanvas_draw_11();
  theCanvas_display();
  tmp74 = ats2jspre_cloref2fun0(HanoiTowers_txt__patsfun_14__closurerize(arg0, arg1, arg2, arg3));
  setTimeout(tmp74, 500);
  return/*_void*/;
} // end-of-function


function
HanoiTowers_txt__patsfun_14(env0, env1, env2, env3)
{
//
// knd = 0
  var tmplab, tmplab_js
//
  // __patsflab_HanoiTowers_txt__patsfun_14
  env3[0](env3, env0, env1, env2);
  return/*_void*/;
} // end-of-function


function
HanoiTowers_txt__move_n_15(arg0, arg1, arg2, arg3, arg4)
{
//
// knd = 1
  var apy0
  var apy1
  var apy2
  var apy3
  var apy4
  var tmp77
  var tmp78
  var funlab_js
  var tmplab, tmplab_js
//
  while(true) {
    funlab_js = 0;
    // __patsflab_HanoiTowers_txt__move_n_15
    tmp77 = ats2jspre_gt_int0_int0(arg0, 0);
    if(tmp77) {
      tmp78 = ats2jspre_sub_int0_int0(arg0, 1);
      // ATStailcalseq_beg
      apy0 = tmp78;
      apy1 = arg1;
      apy2 = arg3;
      apy3 = arg2;
      apy4 = HanoiTowers_txt__patsfun_16__closurerize(arg0, arg4);
      arg0 = apy0;
      arg1 = apy1;
      arg2 = apy2;
      arg3 = apy3;
      arg4 = apy4;
      funlab_js = 1; // __patsflab_HanoiTowers_txt__move_n_15
      // ATStailcalseq_end
    } else {
      arg4[0](arg4, arg1, arg2, arg3);
    } // end-of-if
    if (funlab_js > 0) continue; else return/*_void*/;
  } // endwhile-fun
} // end-of-function


function
HanoiTowers_txt__patsfun_16(env0, env1, arg0, arg1, arg2)
{
//
// knd = 0
  var tmplab, tmplab_js
//
  // __patsflab_HanoiTowers_txt__patsfun_16
  HanoiTowers_txt__move_1_13(arg0, arg2, arg1, HanoiTowers_txt__patsfun_17__closurerize(env0, env1));
  return/*_void*/;
} // end-of-function


function
HanoiTowers_txt__patsfun_17(env0, env1, arg0, arg1, arg2)
{
//
// knd = 0
  var tmp81
  var tmplab, tmplab_js
//
  // __patsflab_HanoiTowers_txt__patsfun_17
  tmp81 = ats2jspre_sub_int0_int0(env0, 1);
  HanoiTowers_txt__move_n_15(tmp81, arg2, arg1, arg0, HanoiTowers_txt__patsfun_18__closurerize(env1));
  return/*_void*/;
} // end-of-function


function
HanoiTowers_txt__patsfun_18(env0, arg0, arg1, arg2)
{
//
// knd = 0
  var tmplab, tmplab_js
//
  // __patsflab_HanoiTowers_txt__patsfun_18
  env0[0](env0, arg2, arg1, arg0);
  return/*_void*/;
} // end-of-function


function
HanoiTowers_txt__patsfun_19()
{
//
// knd = 0
  var tmplab, tmplab_js
//
  // __patsflab_HanoiTowers_txt__patsfun_19
  HanoiTowers_txt__move_n_15(8, HanoiTowers_txt__statmp53, HanoiTowers_txt__statmp54, HanoiTowers_txt__statmp56, HanoiTowers_txt__patsfun_20__closurerize());
  return/*_void*/;
} // end-of-function


function
HanoiTowers_txt__patsfun_20(arg0, arg1, arg2)
{
//
// knd = 0
  var tmplab, tmplab_js
//
  // __patsflab_HanoiTowers_txt__patsfun_20
  ats2jspre_alert("The puzzle is solved!");
  return/*_void*/;
} // end-of-function

// dynloadflag_minit
var _057_home_057_hwxi_057_Research_057_ats_055_lang_056_github_056_io_057_EXAMPLE_057_EFFECTIVATS_057_HanoiTowers_057_HanoiTowers_txt_056_dats__dynloadflag = 0;

function
_057_home_057_hwxi_057_Research_057_ats_055_lang_056_github_056_io_057_EXAMPLE_057_EFFECTIVATS_057_HanoiTowers_057_HanoiTowers_txt_056_dats__dynload()
{
//
// knd = 0
  var tmplab, tmplab_js
//
  // ATSdynload()
  // ATSdynloadflag_sta(_057_home_057_hwxi_057_Research_057_ats_055_lang_056_github_056_io_057_EXAMPLE_057_EFFECTIVATS_057_HanoiTowers_057_HanoiTowers_txt_056_dats__dynloadflag(201))
  if(ATSCKiseqz(_057_home_057_hwxi_057_Research_057_ats_055_lang_056_github_056_io_057_EXAMPLE_057_EFFECTIVATS_057_HanoiTowers_057_HanoiTowers_txt_056_dats__dynloadflag)) {
    _057_home_057_hwxi_057_Research_057_ats_055_lang_056_github_056_io_057_EXAMPLE_057_EFFECTIVATS_057_HanoiTowers_057_HanoiTowers_txt_056_dats__dynloadflag = 1 ; // flag is set
    HanoiTowers_txt__statmp0 = ats2jspre_matrixref_make_elt(24, 80, 0);
    HanoiTowers_txt__statmp40 = ats2jspre_mul_int1_int1(2, 8);
    HanoiTowers_txt__statmp39 = ats2jspre_add_int1_int1(HanoiTowers_txt__statmp40, 2);
    HanoiTowers_txt__statmp42 = ats2jspre_sub_int1_int1(24, 8);
    HanoiTowers_txt__statmp41 = ats2jspre_div_int1_int1(HanoiTowers_txt__statmp42, 2);
    HanoiTowers_txt__statmp45 = ats2jspre_mul_int1_int1(3, HanoiTowers_txt__statmp39);
    HanoiTowers_txt__statmp44 = ats2jspre_sub_int1_int1(80, HanoiTowers_txt__statmp45);
    HanoiTowers_txt__statmp43 = ats2jspre_div_int1_int1(HanoiTowers_txt__statmp44, 2);
    HanoiTowers_txt__statmp52 = ats2jspre_add_int1_int1(8, 1);
    HanoiTowers_txt__statmp51 = ats2jspre_list_make_intrange_2(1, HanoiTowers_txt__statmp52);
    HanoiTowers_txt__statmp53 = ats2jspre_ref(HanoiTowers_txt__statmp51);
    HanoiTowers_txt__statmp55 = null;
    HanoiTowers_txt__statmp54 = ats2jspre_ref(HanoiTowers_txt__statmp55);
    HanoiTowers_txt__statmp57 = null;
    HanoiTowers_txt__statmp56 = ats2jspre_ref(HanoiTowers_txt__statmp57);
  } // end-of-if
  return/*_void*/;
} // end-of-function


function
HanoiTowers_txt__dynload()
{
//
// knd = 0
  var tmplab, tmplab_js
//
  _057_home_057_hwxi_057_Research_057_ats_055_lang_056_github_056_io_057_EXAMPLE_057_EFFECTIVATS_057_HanoiTowers_057_HanoiTowers_txt_056_dats__dynload();
  return/*_void*/;
} // end-of-function


/* ATSextcode_beg() */
//
function
theCanvas_display()
{
//
var _ =
ats2jspre_the_print_store_clear();
//
var _ = theCanvas_print(/*void*/);
//
var _ =
document.getElementById("theDrawingString").innerHTML = ats2jspre_the_print_store_join();
//
}
/* ATSextcode_end() */

/* ATSextcode_beg() */
//
jQuery(document).ready(function(){ HanoiTowers_txt__dynload(); play_hanoitowers_demo(); }); // HX: starting here!
//
/* ATSextcode_end() */

/* ****** ****** */

/* end-of-compilation-unit */
